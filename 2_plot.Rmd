---
output:
  html_notebook:
    code_folding: show
    toc: yes
    toc_float: yes
  html_document:
    df_print: paged
    toc: yes
editor_options: 
  chunk_output_type: inline
---

# Index Plot
```{r}
ggplot(long.index, aes(x = date, y = index, color = variable)) +
  geom_line() + 
  geom_point() + 
  theme_tufte() +
  ylab("Index") 
```

# Sparklines
```{r}
ggplot(long, aes(x = date, y = measurement)) + 
  facet_grid(variable ~ ., scales = "free_y") + 
  geom_ribbon(data = quarts, aes(ymin = quart1, max = quart2), fill = 'grey90') + # grey bar
  geom_line(size=0.3) +
  geom_point(data = mins, col = 'blue') + # min value in blue
  geom_point(data = maxs, col = 'red') + # max  value in red
  geom_text(data = mins, aes(label = measurement), vjust = -1) + 
  geom_text(data = maxs, aes(label = measurement), vjust = 2.5) +
  geom_text(data = ends, aes(label = measurement), hjust = 0, nudge_x = 1) +
  geom_text(data = ends, aes(label = variable), hjust = 0, nudge_x = 12, size = 7) +
  expand_limits(x = max(long$date) + (0.25 * (max(long$date) - min(long$date)))) +
  theme_tufte(base_size = 15, base_family = "sans") +
  theme(axis.title=element_blank(), axis.text.y = element_blank(), 
        axis.ticks = element_blank(), strip.text = element_blank())
```

